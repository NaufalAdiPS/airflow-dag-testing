Airflow DAG Testing Assignment
ğŸ“Œ Project Description

This project is a simple ETL pipeline simulation using Apache Airflow, designed to demonstrate DAG testing and unit testing using:

airflow tasks test

pytest

The pipeline consists of three main stages:

Extract â€“ retrieves dummy data

Transform â€“ converts the name field to uppercase

Load â€“ simulates loading transformed data

The project follows best practices for Airflow DAG structure, testing, and documentation.

ğŸ—‚ï¸ Project Structure
airflow/
â”œâ”€â”€ dags/
â”‚   â””â”€â”€ dag_testing_assignment.py
â”œâ”€â”€ tests/
â”‚   â””â”€â”€ test_dag_testing_assignment.py
â”œâ”€â”€ Screenshoot/
â”‚   â”œâ”€â”€ extract.png
â”‚   â”œâ”€â”€ transform.png
â”‚   â”œâ”€â”€ load.png
â”‚   â””â”€â”€ pytest_test.png
â”œâ”€â”€ docker-compose.yaml
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md

âš™ï¸ Prerequisites

Make sure you have installed:

Docker

Docker Compose

Git

ğŸš€ Running Airflow
1ï¸âƒ£ Start Airflow
docker-compose up -d

2ï¸âƒ£ Create Airflow Admin User

Run the following command to create an admin user:

docker-compose run --rm airflow airflow users create \
  --username admin \
  --firstname Admin \
  --lastname User \
  --role Admin \
  --email admin@example.com \
  --password admin


Access the Airflow UI at:

http://localhost:8080


Login credentials:

Username: admin

Password: admin

ğŸ§ª DAG Testing Using Airflow CLI
ğŸ”¹ Extract Task
airflow tasks test data_validation_dag extract_task 2025-10-22

ğŸ”¹ Transform Task
airflow tasks test data_validation_dag transform_task 2025-10-22

ğŸ”¹ Load Task
airflow tasks test data_validation_dag load_task 2025-10-22


The airflow tasks test command runs tasks in isolated mode.
Fallback data is implemented inside tasks to support isolated execution.

âœ… Unit Testing with Pytest

Run unit tests using:

pytest tests/test_dag_testing_assignment.py


The tests include:

Unit testing for the transform_data function

Empty input handling

DAG integrity testing using DagBag

ğŸ“¸ Screenshots

Execution screenshots for:

Airflow task tests (extract, transform, load)

Pytest test results

Available in the:

Screenshoot/


directory.

ğŸ§  Technical Notes

Uses XCom for inter-task communication

Implements fallback logic for isolated task execution

Follows Airflow production-ready structure

ğŸ‘¤ Author

Name: Naufal
Role: Data Engineering / Airflow Assignment
